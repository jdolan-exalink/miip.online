<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>miip.online - Network Tools & Utilities</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    
    <!-- Google Analytics (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Inter', sans-serif; }
      .font-mono { font-family: 'Fira Code', monospace; }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-900 dark:bg-dark-950 dark:text-gray-100 transition-colors duration-200">
    <!-- Debug logs before root -->
    <script>
      console.log('[EARLY] 1. HTML body loaded');
      window._debugLogs = window._debugLogs || [];
      window._debugLogs.push({time: new Date().toISOString(), msg: 'Body element loaded'});
    </script>

    <!-- React root element -->
    <div id="root"></div>

    <!-- Verify root exists -->
    <script>
      const root = document.getElementById('root');
      console.log('[EARLY] 2. Root element status:', root ? '✅ EXISTS' : '❌ MISSING');
      window._debugLogs.push({time: new Date().toISOString(), msg: 'Root element ' + (root ? 'found' : 'NOT FOUND')});
    </script>

    <!-- Load React app -->
    <script type="module" src="/index.tsx"></script>

    <!-- Timeout detection -->
    <script>
      setTimeout(() => {
        if (!window._appInitialized) {
          console.error('[TIMEOUT] App initialization timeout. Logs:', window._debugLogs);
          const errorHtml = '<div style="padding:20px;color:#d32f2f;background:#ffebee;font-family:monospace;margin:20px"><h2>❌ App Failed to Load</h2><details><summary>Debug Info</summary><pre style="font-size:11px;overflow:auto;max-height:400px">' + JSON.stringify(window._debugLogs, null, 2) + '</pre></details></div>';
          if (document.getElementById('root')) {
            document.getElementById('root').innerHTML = errorHtml;
          } else {
            document.body.innerHTML = errorHtml;
          }
        }
      }, 5000);
    </script>
  </body>
</html>
